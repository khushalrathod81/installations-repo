sudo apt update
sudo apt upgrade

# 1. Install java

sudo apt install openjdk-17-jdk -y
java -version

# 2. Setting up JAVA_HOME env
sudo nano /etc/profile.d/jdk17.sh

Then inside the it paste:
 
		export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
		export PATH=$JAVA_HOME/bin:$PATH

# 3. Then make it executable and reload:

sudo chmod +x /etc/profile.d/jdk17.sh
source /etc/profile

# 4. Download tomcat tar file from official site using wget

wget https://dlcdn.apache.org/tomcat/tomcat-11/v11.0.11/bin/apache-tomcat-11.0.11.tar.gz

# 5. Untar the files 

tar -xvzf apache-tomcat-11.0.11.tar.gz

# 6. Provide executive permissions to all users to start or stop the service ind bin folder ot apache.tomcat

chmod +x catalina.sh startup.sh shutdown.sh

# Symlink startup
sudo ln -s /root/apache-tomcat-11.0.11/bin/startup.sh /etc/init.d/tomcatstart

# Symlink shutdown
sudo ln -s /root/apache-tomcat-11.0.11/bin/shutdown.sh /etc/init.d/tomcatstop

# Make sure youâ€™ve got this file:

sudo nano /etc/systemd/system/tomcat.service

      	content :
[Unit]
Description=Apache Tomcat 11
After=network.target

[Service]
Type=forking
User=root
Group=root

Environment="JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64"
Environment="CATALINA_HOME=/root/apache-tomcat-11.0.11"
Environment="CATALINA_BASE=/root/apache-tomcat-11.0.11"
Environment="CATALINA_PID=/root/apache-tomcat-11.0.11/temp/tomcat.pid"

ExecStart=/root/apache-tomcat-11.0.11/bin/startup.sh
ExecStop=/root/apache-tomcat-11.0.11/bin/shutdown.sh

Restart=on-failure

[Install]
WantedBy=multi-user.target


#Reload systemd & enable:

sudo systemctl daemon-reload
sudo systemctl enable tomcat

#Start/Stop/Status:

sudo systemctl start tomcat
sudo systemctl stop tomcat
sudo systemctl status tomcat


